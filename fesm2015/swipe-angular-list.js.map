{"version":3,"file":"swipe-angular-list.js","sources":["ng://swipe-angular-list/lib/swipe-angular-list.service.ts","ng://swipe-angular-list/lib/swipe-angular-list.component.ts","ng://swipe-angular-list/lib/swipe-service.service.ts","ng://swipe-angular-list/lib/item-list/item-list.component.ts","ng://swipe-angular-list/lib/swipe-angular-list.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SwipeAngularListService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'sw-swipe-angular-list',\n  template: `\n    <p>\n      swipe-angular-list works!\n    </p>\n  `,\n  styles: []\n})\nexport class SwipeAngularListComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {EventEmitter, Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SwipeServiceService {\n  swipeObserver: EventEmitter<number> = new EventEmitter();\n\n  constructor() {\n  }\n\n  closeAll(id) {\n    this.swipeObserver.emit(id);\n  }\n}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  Output,\n  TemplateRef,\n  ViewChild, ViewContainerRef, OnInit\n} from '@angular/core';\nimport {SwipeServiceService} from '../swipe-service.service';\n\n@Component({\n  selector: 'sw-item-list',\n  templateUrl: './item-list.component.html',\n  styleUrls: ['./item-list.component.css']\n})\nexport class ItemListComponent implements AfterViewInit, OnInit  {\n  alive = true;\n  result: boolean;\n  selfElement = null;\n  idElement = null;\n  @Input() inside: {\n    id,\n    title: '',\n    subTitle: '',\n    mark: false,\n  };\n\n  @Input('disable-mark') disabledMark = false;\n\n  @Input('show-mark') showMark = false;\n\n  @Input('item-class') itemClass = '';\n\n  // @ts-ignore\n  @ViewChild('defaultEdit') defaultEdit: TemplateRef<any>;\n  // @ts-ignore\n  @ViewChild('defaultTrash') defaultTrash: TemplateRef<any>;\n\n  // @ts-ignore\n  @ViewChild('defaultMark') defaultMark: TemplateRef<any>;\n  // @ts-ignore\n  @ViewChild('defaultNotMark') defaultNotMark: TemplateRef<any>;\n  // @ts-ignore\n  @ViewChild('defaultCustom') defaultCustom: TemplateRef<any>;\n\n  // tslint:disable-next-line:no-input-rename\n  @Input('customTemplate') customTemplate: TemplateRef<any>;\n  // tslint:disable-next-line:no-input-rename\n  @Input('editTemplate') editTemplate: TemplateRef<any>;\n  // tslint:disable-next-line:no-input-rename\n  @Input('trashTemplate') trashTemplate: TemplateRef<any>;\n  // tslint:disable-next-line:no-input-rename\n  @Input('markTemplate') markTemplate: TemplateRef<any>;\n  // tslint:disable-next-line:no-input-rename\n  @Input('notMarkTemplate') notMarkTemplate: TemplateRef<any>;\n\n  @Output()\n  callback = new EventEmitter<any>();\n\n  @Output()\n  swClick = new EventEmitter<any>();\n\n  @ViewChild('viewContainerEdit', {static: false, read: ViewContainerRef})\n  viewContainerEdit: ViewContainerRef;\n\n  @ViewChild('viewContainerTrash', {static: false, read: ViewContainerRef})\n  viewContainerTrash: ViewContainerRef;\n\n  @ViewChild('viewContainerMark', {static: false, read: ViewContainerRef})\n  viewContainerMark: ViewContainerRef;\n\n  @ViewChild('viewContainerCustom', {static: false, read: ViewContainerRef})\n  viewContainerCustom: ViewContainerRef;\n\n  @HostListener('document:click', ['$event'])\n  clickOut(event) {\n    if (!this.selfElement.contains(event.target)) {\n      this.result = false;\n    }\n  }\n\n  constructor(elRef: ElementRef, private swService: SwipeServiceService) {\n    this.selfElement = elRef.nativeElement;\n    this.idElement = `list-swipe-${this.random()}`;\n    this.selfElement.setAttribute('data-id', this.idElement);\n    this.selfElement.id = this.idElement;\n    this.swService.swipeObserver.subscribe(a => {\n      if (a !== this.selfElement.id) {\n        this.result = false;\n      }\n    });\n  }\n  ngAfterViewInit(): void {\n    this.render();\n    // throw new Error(\"Method not implemented.\");\n  }\n\n  private random = () => {\n    const d = new Date();\n    return d.getTime();\n  };\n\n\n  public swipeleft = (res:any) => {\n    this.swService.closeAll(this.selfElement.id);\n        if (!this.disabledMark) {\n          this.result = (res.deltaX < 0);\n        }\n  }\n\n  clickItem = (a: any) => this.swClick.emit(a);\n\n  action = (opt = '') => {\n    try {\n      this.result = false;\n      const {id} = this.inside;\n      if (opt === 'edit') {\n        this.callback.emit({action: 'edit', value: id});\n      } else if (opt === 'trash') {\n        this.callback.emit({action: 'trash', value: id});\n      }\n    } catch (e) {\n      console.error('Debes definir ID de edit, y trash');\n    }\n  };\n\n  ngOnInit(): void {\n\n\n  }\n\n  render = () => {\n        console.log('INIT')\n    /**\n     * Template MARK\n     **/\n    if (this.showMark) {\n      if (this.inside.mark && !this.markTemplate) {\n        const viewMark = this.defaultMark.createEmbeddedView(null);\n        this.viewContainerMark.insert(viewMark);\n      } else if (this.inside.mark && this.markTemplate) {\n        const viewMark = this.markTemplate.createEmbeddedView(null);\n        this.viewContainerMark.insert(viewMark);\n      }\n\n      if (!this.inside.mark && !this.notMarkTemplate) {\n        const viewMark = this.defaultNotMark.createEmbeddedView(null);\n        this.viewContainerMark.insert(viewMark);\n      } else if (!this.inside.mark && this.notMarkTemplate) {\n        const viewMark = this.notMarkTemplate.createEmbeddedView(null);\n        this.viewContainerMark.insert(viewMark);\n      }\n    }\n    /**\n     * Template EDIT\n     **/\n    if (this.editTemplate) {\n      const viewEdit = this.editTemplate.createEmbeddedView(null);\n      if (this.viewContainerEdit) {\n        this.viewContainerEdit.insert(viewEdit);\n      }\n    } else if (this.editTemplate !== null) {\n      const viewEdit = this.defaultEdit.createEmbeddedView(null);\n      this.viewContainerEdit.insert(viewEdit);\n    }\n\n    /**\n     * Template TRASH\n     **/\n\n    if (this.trashTemplate) {\n      const viewTrash = this.trashTemplate.createEmbeddedView(null);\n      if (this.viewContainerTrash) {\n        this.viewContainerTrash.insert(viewTrash);\n      }\n    } else if (this.trashTemplate !== null) {\n      const viewTrash = this.defaultTrash.createEmbeddedView(null);\n      this.viewContainerTrash.insert(viewTrash);\n    }\n\n    setTimeout(() => {\n      if (this.customTemplate) { // Si tiene\n        const dataInside = {...this.inside, ...{touch: this.selfElement.id}};\n        const viewCustomTemplate = this.customTemplate.createEmbeddedView({\n          item: dataInside,\n          id: this.selfElement.id\n        });\n        if (viewCustomTemplate) {\n          this.viewContainerCustom.insert(viewCustomTemplate);\n        }\n      } else {\n        const viewCustomTemplate = this.defaultCustom.createEmbeddedView(null);\n        this.viewContainerCustom.insert(viewCustomTemplate);\n      }\n    }, 10);\n  }\n\n}\n","import {NgModule} from '@angular/core';\nimport {SwipeAngularListComponent} from './swipe-angular-list.component';\nimport {ItemListComponent} from './item-list/item-list.component';\nimport {CommonModule} from '@angular/common';\nimport {HAMMER_GESTURE_CONFIG, HammerGestureConfig} from '@angular/platform-browser';\n\nexport class HammerConfig extends HammerGestureConfig {\n  overrides = {\n    pinch: {enable: false},\n    rotate: {enable: false}\n  };\n}\n\n@NgModule({\n  declarations: [SwipeAngularListComponent, ItemListComponent],\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    {\n      provide: HAMMER_GESTURE_CONFIG,\n      useClass: HammerConfig\n    }\n  ],\n  exports: [SwipeAngularListComponent, ItemListComponent]\n})\nexport class SwipeAngularListModule {\n}\n"],"names":[],"mappings":"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"}